@import (reference) 'modules/grid';

label.hxChoice {
  .hxRow > & {
    #grid.column();
  }

  > input {
    position: absolute;
    top: -200px;
    
    &:checked {
      + hx-tile {
        border-color: @cyan-900;

        hx-tile-title,
        hx-icon {
          color: @cyan-900;
        }

        hx-tile-description {
          color: @gray-900;
        }

        hx-icon[type="checkmark"] {
          display: inline-block;
        }

        &:hover {
          border-color: @cyan-500;
        }

        &.hxSubdued {
          opacity: 1;
        }
      }

      &[invalid] + hx-tile {
          hx-tile-title,
          hx-icon {
            color: @red-900;
        }

        &[disabled] + hx-tile {
          hx-tile-title, 
          hx-tile-description {
            color: @gray-700;
          }
    
          hx-icon {
            color: @gray-500;
          }
        }
      }  
    }

    &[invalid] + hx-tile {
      border-color: @red-900;
      border-width: 2px;
  
      &:hover {
        background-color: @red-100;
        border-color: @red-900;
      }
  
      &:focus {
        border: none;
        box-shadow: 0 0 4px 0 fade(@red-500, 50%);
        outline: none;
      }

      &[disabled] + hx-tile {
        border-width: 1px;
      }

      &.hxSubdued {
        opacity: 1;
      }
    }

    &[disabled] + hx-tile {
      background-color: @gray-25;
      border-color: @gray-300;
      cursor: not-allowed;

      &:hover {
        background-color: @gray-25;
        border-color: @gray-300;
        cursor: not-allowed;
      }
  
      hx-tile-title, hx-tile-description {
        color: @gray-700;
      }

      hx-icon {
        color: @gray-500;
      }

      &.hxSubdued {
        opacity: 1;
      }
    }

    &[disabled][invalid] + hx-tile {
      border-width: 1px;
    }
  }
}

hx-tile {
  &:extend(.hxBox-lg);
  background-color: @gray-0;
  border: solid 1px @gray-400;
  border-radius: 2px;
  display: inline-block;
  height: 100%;
  position: relative;
  text-align: center;
  width: 100%;

  hx-tile-title {
    color: @gray-900;
    display: block;
    font-size: 1rem;
    font-weight: 700;
    margin-bottom: 0;
  }

  hx-tile-description {
    display: block;
    font-size: 0.75rem;
  }

  &.hxSm {
    padding: 0.75rem;

    hx-tile-description {
      display: none;
    }
  }
  
  &.hxLg {
    padding: 1.75rem;
  }

  &:hover {
    background-color: @cyan-50;
    border: solid 1px @cyan-500;
  }

  &:focus {
    border: none;
    box-shadow: 0 0 3px 0 fade(@cyan-700, 50%);
    outline: none;
  }

  hx-tile-title + * {
    margin-top: 0.5rem;
  }

  .hx-tile-icon + * {
    margin-top: 0.5rem;
  }
  
  .hx-tile-icon {
    hx-icon {
      color: @gray-700;
      height: 1.75rem;
      width: 1.75rem;
    }
  }

  hx-icon[type="checkmark"] {
    display: none;
    color: @cyan-900;
    height: 1rem;
    position: absolute;
    right: 1.25rem;
    top: 1.25rem;
    width: 1rem;
  }

  &.hxSubdued {
    opacity: 0.7;
  }
}

@media (min-width: @grid-break-wrist) {
  .hxRow > label.hxChoice{
    #grid.span(12);
  }
}
@media (min-width: @grid-break-lap) {
  .hxRow > label.hxChoice{
    #grid.span(6);
  }
}
@media (min-width: @grid-break-desk) {
  .hxRow > label.hxChoice{
    #grid.span(4);
  }
}
